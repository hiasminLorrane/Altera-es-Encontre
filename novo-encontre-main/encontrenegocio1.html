<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <title>Cadastro de Com√©rcio</title>
  <style>
    /* Reset e estilos b√°sicos */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      font-family: sans-serif;
      margin: 0;
      padding: 0;
      width: 100%;
      overflow-x: hidden; /* Previne barras de rolagem desnecess√°rias */
      min-height: 100vh; /* Garante que ocupa a altura total */
    }
    /* Header */
    header {
      background-color: #000;
      padding: 15px 20px;
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
    }
    
    .header-text {
      font-size: 1.2em;
      font-weight: 200;
      color: #ffffff;
      font-family: sans-serif;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
  
    /* Bot√µes de Navega√ß√£o */
    .header-buttons {
      display: flex;
      gap: 20px;
    }
  
    .header-buttons button {
      background-color: transparent;
      border: 2px solid #ffffff;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 1em;
      color: #ffffff;
      cursor: pointer;
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.2s ease;
    }
  
    .header-buttons button:hover {
      background-color: #ffffff;
      color: #000000;
      transform: translateY(-3px);
    }
  
    /* Bot√£o de Menu (Hamburger) - inicialmente oculto */
    .menu-toggle {
      display: none;
      background: transparent;
      border: none;
      color: #ffffff;
      font-size: 1.2em;
      cursor: pointer;
    }
  
    /* Responsividade - telas at√© 768px */
    @media (max-width: 768px) {
      .menu-toggle {
        display: block;
      }
  
      /* Esconde os bot√µes de navega√ß√£o e os posiciona como dropdown */
      .header-buttons {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        flex-direction: column;
        background-color: rgba(0, 0, 0, 0.645);
        padding: 10px 0;
      }
  
      /* Quando a classe 'show' for adicionada, exibe o menu */
      .header-buttons.show {
        display: flex;
      }
  
      .header-buttons button {
        margin: 5px auto;
        width: 90%;
      }
    }
    
    h1, h2 {
      text-align: center;
    }
    
    .form-container, .preview-container {
      max-width: 400px;
      margin: 20px auto;
      padding: 30px;
      background-color: #fff;
      border: 1px solid #757575;
      border-radius: 28px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .preview-container {
      border-color: #4CAF50;
      background-color: #f9f9f9;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    
    input, select, textarea {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 14px;
    }
    
    .image-button {
      margin-top: 5px;
      padding: 8px 12px;
      background-color: #2196F3;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .image-button:hover {
      background-color: #1976D2;
    }
    
    button[type="submit"] {
      width: 100%;
      padding: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 24px;
      cursor: pointer;
      font-size: 16px;
    }
    
    button[type="submit"]:hover {
      background-color: #45a049;
    }
    
    .preview-card {
      text-align: center;
    }
    
    .preview-card img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
    }
    
    .preview-card h3 {
      margin-top: 10px;
    }
    
    .preview-card p {
      margin: 5px 0;
    }
    
    /* Estilo para os bot√µes de link na pr√©-visualiza√ß√£o */
    .link-button {
      margin: 5px;
      padding: 8px 12px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .link-button:hover {
      background-color: #45a049;
    }
    
    /* Estilos para a se√ß√£o de pagamento */
    .payment-container {
      margin-top: 20px;
      text-align: center;
    }
    .payment-container img {
      width: 150px;
      height: 150px;
      margin-bottom: -40px;
    }
    .payment-container button {
      padding: 12px 20px;
      background-color: #f44336;
      color: #fff;
      border: none;
      margin-top: 50px;
      border-radius: 24px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .payment-container button:hover {
      background-color: #d32f2f;
    }
    
    /* Estilos para o bot√£o do WhatsApp */
    .whatsapp-container {
      margin-top: 40px;
      text-align: center;
    }
    .whatsapp-container button {
      padding: 12px 20px;
      background-color: #25D366;
      color: #fff;
      border: none;
      border-radius: 24px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .whatsapp-container button:hover {
      background-color: #1ebe57;
    }
    
    /* Mant√©m o footer no final */
    footer {
      width: 100%;
      background-color: #333;
      color: white;
      padding: 40px 20px;
      margin-top: auto; /* Empurra o footer para baixo */
    }
    footer {
      width: 100vw;
    }
    
    .footer-container {
      max-width: 1200px; /* Mant√©m o conte√∫do centralizado */
      margin: 0 auto;
    }
    footer {
      flex-grow: 1; /* Permite que ele expanda */
    }
    @media (min-width: 1024px) {
  .form-container {
    max-width: 900px; /* Aumenta a largura m√°xima */
    padding: 50px; /* Adiciona mais espa√ßo interno */
  }
}

  </style>
</head>
<body>
  <!-- Header com Bot√µes de Navega√ß√£o -->
  <header>
    <div class="header-text">Encontre meu Neg√≥cio üè¨</div>
    <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
    <div class="header-buttons">
      <button onclick="window.location.href='index.html'">Home</button>
      <button onclick="window.location.href='privacidade.html'">Privacidade</button>
      <button onclick="window.location.href='dashboard.html'">Mensalidade</button>
    </div>
  </header>
<!-- √çcone e t√≠tulo centralizados -->
<div style="text-align: center; margin-top: 20px;">
  <img src="./img/avalie.png" alt="√çcone do Com√©rcio" style="width: 100px; height: auto;">
  <h2>Cadastro de Com√©rcio</h2>
</div>

  <!-- Conte√∫do Principal -->
  <div class="form-container">
    <form id="comercioForm">
      <div class="form-group">
        <label for="nome">Nome do Com√©rcio</label>
        <input type="text" id="nome" name="nome" required>
      </div>

      <div class="form-group">
        <label for="imagem_capa">Imagem Capa 1</label>
        <input type="url" id="imagem_capa" name="imagem_capa">
        <button type="button" class="image-button" onclick="window.location.href='tutorial.html'">Selecionar Imagem</button>
      </div>

      <div class="form-group">
        <label for="imagem_capa_2">Imagem Capa 2</label>
        <input type="url" id="imagem_capa_2" name="imagem_capa_2">
        <button type="button" class="image-button" onclick="window.location.href='tutorial.html'">Selecionar Imagem</button>
      </div>

      <div class="form-group">
        <label for="imagem_capa_3">Imagem Capa 3</label>
        <input type="url" id="imagem_capa_3" name="imagem_capa_3">
        <button type="button" class="image-button" onclick="window.location.href='tutorial.html'">Selecionar Imagem</button>
      </div>

      <div class="form-group">
        <label for="categoria">Categoria</label>
        <input type="text" id="categoria" name="categoria" required>
      </div>

      <div class="form-group">
        <label for="cidade">Cidade</label>
        <input type="text" id="cidade" name="cidade">
      </div>

      <div class="form-group">
        <label for="estado">Estado</label>
        <input type="text" id="estado" name="estado">
      </div>

      <div class="form-group">
        <label for="telefone">Telefone</label>
        <input type="text" id="telefone" name="telefone">
      </div>

      <div class="form-group">
        <label for="horario_funcionamento_feriados">Hor√°rio Funcionamento (Feriados)</label>
        <input type="text" id="horario_funcionamento_feriados" name="horario_funcionamento_feriados">
      </div>

      <div class="form-group">
        <label for="link_cardapio">Link do Card√°pio</label>
        <input type="url" id="link_cardapio" name="link_cardapio">
      </div>

      <div class="form-group">
        <label for="descricao">Descri√ß√£o</label>
        <textarea id="descricao" name="descricao"></textarea>
      </div>

      <div class="form-group">
        <label for="link_facebook">Link do Facebook</label>
        <input type="url" id="link_facebook" name="link_facebook">
      </div>

      <div class="form-group">
        <label for="link_instagram">Link do Instagram</label>
        <input type="url" id="link_instagram" name="link_instagram">
      </div>

      <div class="form-group">
        <label for="link_site_pessoal">Link do Site Pessoal</label>
        <input type="url" id="link_site_pessoal" name="link_site_pessoal">
      </div>

      <div class="form-group">
        <label for="endereco">Endere√ßo</label>
        <textarea id="endereco" name="endereco"></textarea>
      </div>

      <div class="form-group">
        <label for="link_type">Tipo de Link</label>
        <input type="text" id="link_type" name="link_type">
      </div>

      <div class="form-group">
        <label for="posicao">Posi√ß√£o</label>
        <input type="number" id="posicao" name="posicao" value="0">
      </div>

      <div class="form-group">
        <label for="destaque">Destaque</label>
        <select id="destaque" name="destaque">
          <option value="false">N√£o</option>
          <option value="true">Sim</option>
        </select>
      </div>

      <button type="submit">Cadastrar Com√©rcio</button>
    </form>


    </div>

    <!-- Bot√£o para Enviar Mensagem no WhatsApp -->

  </div>
  
  <footer style="background: linear-gradient(135deg, rgba(0, 119, 255, 0.607), rgb(0, 0, 0)); color: white; padding: 40px 20px;">
    <div style="max-width: 1200px; margin: 0 auto; display: flex; flex-direction: column; align-items: center;">
      <div style="width: 100%; display: flex; justify-content: space-between; align-items: center;">
        <div style="display: flex; align-items: center;">
          <img src="./img/web_hi_res_512.png" alt="Logo" style="height: 30px; margin-right: 10px;">
          <span style="font-weight: 300; font-size: 1.2em;">Encontre Tecnologia</span>
        </div>
      </div>
      <hr style="width: 100%; border: 0.5px solid white; margin: 20px 0;">
      <div style="width: 100%; display: flex; justify-content: space-between; flex-wrap: wrap;">
        <div style="display: flex; flex-direction: column; margin-bottom: 20px;">
          <strong>SOBRE N√ìS</strong>
          <a href="sobre.html" style="color: white; text-decoration: none; margin-bottom: 5px;">Sobre N√≥s</a>
        </div>
        <div style="display: flex; flex-direction: column; margin-bottom: 20px;">
          <strong>PRECISA DE AJUDA?</strong>
          <a href="ajuda.html" style="color: white; text-decoration: none; margin-bottom: 5px;">Ajuda</a>
        </div>
        <div style="display: flex; flex-direction: column; margin-bottom: 20px;">
          <strong>LEGAL</strong>
          <a href="termos.html" style="color: white; text-decoration: none; margin-bottom: 5px;">Termos de uso</a>
          <a href="privacidade.html" style="color: white; text-decoration: none; margin-bottom: 5px;">Pol√≠tica de privacidade</a>
        </div>
        <div style="display: flex; flex-direction: column; align-items: flex-end; margin-bottom: 20px;">
        </div>
      </div>
      <hr style="width: 100%; border: 0.5px solid white; margin: 20px 0;">
      <p style="font-size: 0.9em;">&copy; 2025 The Encontre Tecnologia Company. Todos os direitos reservados.</p>
    </div>
  </footer>
  
  <script>
    // Fun√ß√£o para atualizar a pr√©-visualiza√ß√£o com os dados do formul√°rio
    function updatePreview() {
      const nome = document.getElementById('nome').value;
      const categoria = document.getElementById('categoria').value;
      const cidade = document.getElementById('cidade').value;
      const estado = document.getElementById('estado').value;
      const telefone = document.getElementById('telefone').value;
      const descricao = document.getElementById('descricao').value;
      const linkCardapio = document.getElementById('link_cardapio').value;
      const linkFacebook = document.getElementById('link_facebook').value;
      const linkInstagram = document.getElementById('link_instagram').value;
      const linkSitePessoal = document.getElementById('link_site_pessoal').value;
      const imagemCapa = document.getElementById('imagem_capa').value;
      
      document.getElementById('previewNome').textContent = nome || "Nome do Com√©rcio";
      document.getElementById('previewCategoria').textContent = categoria || "Categoria";
      document.getElementById('previewEndereco').textContent = (cidade || "Cidade") + " / " + (estado || "Estado");
      document.getElementById('previewTelefone').textContent = telefone || "Telefone";
      document.getElementById('previewDescricao').textContent = descricao || "Descri√ß√£o do com√©rcio";
      
      if (imagemCapa) {
        document.getElementById('previewImagem').src = imagemCapa;
      } else {
        document.getElementById('previewImagem').src = "https://via.placeholder.com/600x200?text=Imagem+Capa";
      }
      
      // Atualiza os bot√µes de links
      const previewLinks = document.getElementById('previewLinks');
      if(previewLinks){
        previewLinks.innerHTML = "";
        if (linkCardapio) {
          const btnCardapio = document.createElement('button');
          btnCardapio.textContent = "Card√°pio";
          btnCardapio.className = "link-button";
          btnCardapio.onclick = () => window.open(linkCardapio, "_blank");
          previewLinks.appendChild(btnCardapio);
        }
        if (linkFacebook) {
          const btnFacebook = document.createElement('button');
          btnFacebook.textContent = "Facebook";
          btnFacebook.className = "link-button";
          btnFacebook.onclick = () => window.open(linkFacebook, "_blank");
          previewLinks.appendChild(btnFacebook);
        }
        if (linkInstagram) {
          const btnInstagram = document.createElement('button');
          btnInstagram.textContent = "Instagram";
          btnInstagram.className = "link-button";
          btnInstagram.onclick = () => window.open(linkInstagram, "_blank");
          previewLinks.appendChild(btnInstagram);
        }
        if (linkSitePessoal) {
          const btnSite = document.createElement('button');
          btnSite.textContent = "Site Pessoal";
          btnSite.className = "link-button";
          btnSite.onclick = () => window.open(linkSitePessoal, "_blank");
          previewLinks.appendChild(btnSite);
        }
      }
    }

    // Atualiza a pr√©-visualiza√ß√£o em tempo real ao digitar
    const inputs = document.querySelectorAll('#comercioForm input, #comercioForm textarea, #comercioForm select');
    inputs.forEach(input => {
      input.addEventListener('input', updatePreview);
    });

    // Envio do formul√°rio para o backend
    document.getElementById('comercioForm').addEventListener('submit', function(event) {
      event.preventDefault();
      const formData = new FormData(this);
      const formObject = {};
      formData.forEach((value, key) => {
        formObject[key] = value;
      });
      fetch('https://encontreoficialback.azurewebsites.net/comercios', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(formObject),
      })
      .then(response => response.json())
      .then(data => {
        if (data.id) {
          alert('Com√©rcio cadastrado com sucesso! ID: ' + data.id);
        } else {
          alert('Erro ao cadastrar o com√©rcio.');
        }
      })
      .catch(error => {
        console.error('Erro:', error);
        alert('Erro ao cadastrar o com√©rcio.');
      });
    });
    
    // Fun√ß√£o para alternar a exibi√ß√£o do menu em telas menores
    function toggleMenu() {
      const menu = document.querySelector('.header-buttons');
      menu.classList.toggle('show');
    }
  </script>

</body>
</html>
